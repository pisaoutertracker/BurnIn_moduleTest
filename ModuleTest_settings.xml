<HwDescription>
  
  <BeBoard Id="0" boardType="D19C" eventType="VR" linkReset="1" boardReset="1" configure="1">
    
    <connection id="board" uri="ipbusudp-2.0://fc7ot2:50001" address_table="file://settings/address_tables/uDTC_OT_address_table.xml" />
    <configuration file_name="${PH2ACF_BASE_DIR}/settings/BeBoardFiles/uDTC_registers_PS.xml" />
    <OpticalGroup Id="1" FMCId="L12" reset="1">
        <lpGBT_Files path="${PH2ACF_BASE_DIR}/settings/lpGBTFiles/" />
        <lpGBT Id="0" version="1" optical="1" configfile="lpGBT_v1_PS.txt">
          <Settings />
        </lpGBT>
        <Hybrid Id="0" enable="1" reset="1" invertClock="0">
            <Global>
                <StubLogic mode="0" window="4" /> 
                <HitLogic stripMode="0" pixelMode="0" pixelClusterCut="5" /> 
                <Latencies stripLatency="296" pixelLatency="295" retimePix="4" LatencyRx320L1="6" LatencyRx320Trigger="6" EdgeSelT1Raw="0" EdgeSelTrig="0" />   
	            <Thresholds stripThreshold="60" stripThresholdHigh="120" pixelThreshold="120" />
                <HipLogic stripCut="1" pixelCut="0" /> 
                <SamplingDelay stripCoarse="0" stripFine="0" pixelCoarse="0" pixelFine="0" /> 
                <InjectedCharge stripCharge="70" pixelCharge="70" /> 
                <CIC2 enableBend="1" enableLastLine="1" enableSparsification="1" clockFrequency="320" driveStrength="3" edgeSelect="1" />
            </Global>

            <SSA_Files path="${PH2ACF_BASE_DIR}/settings/SSAFiles/" />
            <SSA2 Id="0" configfile="SSA2.txt" />

            <SSA2 Id="1" configfile="SSA2.txt" />

            <SSA2 Id="2" configfile="SSA2.txt" />

            <SSA2 Id="3" configfile="SSA2.txt" />

            <SSA2 Id="4" configfile="SSA2.txt" />

            <SSA2 Id="5" configfile="SSA2.txt" />

            <SSA2 Id="6" configfile="SSA2.txt" />

            <SSA2 Id="7" configfile="SSA2.txt" />

            <MPA_Files path="${PH2ACF_BASE_DIR}/settings/MPAFiles/" />
            <MPA2 Id="8" configfile="MPA2.txt" />

            <MPA2 Id="9" configfile="MPA2.txt" />

            <MPA2 Id="10" configfile="MPA2.txt" />

            <MPA2 Id="11" configfile="MPA2.txt" />

            <MPA2 Id="12" configfile="MPA2.txt" />

            <MPA2 Id="13" configfile="MPA2.txt" />

            <MPA2 Id="14" configfile="MPA2.txt" />

            <MPA2 Id="15" configfile="MPA2.txt" />

            <CIC_Files path="${PH2ACF_BASE_DIR}/settings/CicFiles/" />
            <CIC2 Id="8" configfile="CIC2_PS.txt" />
        </Hybrid>
    <Hybrid Id="1" enable="1" reset="1" invertClock="0">
            <Global>
                <StubLogic mode="0" window="4" /> 
                <HitLogic stripMode="0" pixelMode="0" pixelClusterCut="5" /> 
                <Latencies stripLatency="296" pixelLatency="295" retimePix="4" LatencyRx320L1="6" LatencyRx320Trigger="6" EdgeSelT1Raw="0" EdgeSelTrig="0" />   
	            <Thresholds stripThreshold="60" stripThresholdHigh="120" pixelThreshold="120" />
                <HipLogic stripCut="1" pixelCut="0" /> 
                <SamplingDelay stripCoarse="0" stripFine="0" pixelCoarse="0" pixelFine="0" /> 
                <InjectedCharge stripCharge="70" pixelCharge="70" /> 
                <CIC2 enableBend="1" enableLastLine="1" enableSparsification="1" clockFrequency="320" driveStrength="3" edgeSelect="1" />
            </Global>

            <SSA_Files path="${PH2ACF_BASE_DIR}/settings/SSAFiles/" />
            <SSA2 Id="0" configfile="SSA2.txt" />

            <SSA2 Id="1" configfile="SSA2.txt" />

            <SSA2 Id="2" configfile="SSA2.txt" />

            <SSA2 Id="3" configfile="SSA2.txt" />

            <SSA2 Id="4" configfile="SSA2.txt" />

            <SSA2 Id="5" configfile="SSA2.txt" />

            <SSA2 Id="6" configfile="SSA2.txt" />

            <SSA2 Id="7" configfile="SSA2.txt" />

            <MPA_Files path="${PH2ACF_BASE_DIR}/settings/MPAFiles/" />
            <MPA2 Id="8" configfile="MPA2.txt" />

            <MPA2 Id="9" configfile="MPA2.txt" />

            <MPA2 Id="10" configfile="MPA2.txt" />

            <MPA2 Id="11" configfile="MPA2.txt" />

            <MPA2 Id="12" configfile="MPA2.txt" />

            <MPA2 Id="13" configfile="MPA2.txt" />

            <MPA2 Id="14" configfile="MPA2.txt" />

            <MPA2 Id="15" configfile="MPA2.txt" />

            <CIC_Files path="${PH2ACF_BASE_DIR}/settings/CicFiles/" />
            <CIC2 Id="8" configfile="CIC2_PS.txt" />
        </Hybrid>
    </OpticalGroup>
  <OpticalGroup Id="2" FMCId="L12" reset="1">
        <lpGBT_Files path="${PH2ACF_BASE_DIR}/settings/lpGBTFiles/" />
        <lpGBT Id="0" version="1" optical="1" configfile="lpGBT_v1_PS.txt">
          <Settings />
        </lpGBT>
        <Hybrid Id="0" enable="1" reset="1" invertClock="0">
            <Global>
                <StubLogic mode="0" window="4" /> 
                <HitLogic stripMode="0" pixelMode="0" pixelClusterCut="5" /> 
                <Latencies stripLatency="296" pixelLatency="295" retimePix="4" LatencyRx320L1="6" LatencyRx320Trigger="6" EdgeSelT1Raw="0" EdgeSelTrig="0" />   
	            <Thresholds stripThreshold="60" stripThresholdHigh="120" pixelThreshold="120" />
                <HipLogic stripCut="1" pixelCut="0" /> 
                <SamplingDelay stripCoarse="0" stripFine="0" pixelCoarse="0" pixelFine="0" /> 
                <InjectedCharge stripCharge="70" pixelCharge="70" /> 
                <CIC2 enableBend="1" enableLastLine="1" enableSparsification="1" clockFrequency="320" driveStrength="3" edgeSelect="1" />
            </Global>

            <SSA_Files path="${PH2ACF_BASE_DIR}/settings/SSAFiles/" />
            <SSA2 Id="0" configfile="SSA2.txt" />

            <SSA2 Id="1" configfile="SSA2.txt" />

            <SSA2 Id="2" configfile="SSA2.txt" />

            <SSA2 Id="3" configfile="SSA2.txt" />

            <SSA2 Id="4" configfile="SSA2.txt" />

            <SSA2 Id="5" configfile="SSA2.txt" />

            <SSA2 Id="6" configfile="SSA2.txt" />

            <SSA2 Id="7" configfile="SSA2.txt" />

            <MPA_Files path="${PH2ACF_BASE_DIR}/settings/MPAFiles/" />
            <MPA2 Id="8" configfile="MPA2.txt" />

            <MPA2 Id="9" configfile="MPA2.txt" />

            <MPA2 Id="10" configfile="MPA2.txt" />

            <MPA2 Id="11" configfile="MPA2.txt" />

            <MPA2 Id="12" configfile="MPA2.txt" />

            <MPA2 Id="13" configfile="MPA2.txt" />

            <MPA2 Id="14" configfile="MPA2.txt" />

            <MPA2 Id="15" configfile="MPA2.txt" />

            <CIC_Files path="${PH2ACF_BASE_DIR}/settings/CicFiles/" />
            <CIC2 Id="8" configfile="CIC2_PS.txt" />
        </Hybrid>
    <Hybrid Id="1" enable="1" reset="1" invertClock="0">
            <Global>
                <StubLogic mode="0" window="4" /> 
                <HitLogic stripMode="0" pixelMode="0" pixelClusterCut="5" /> 
                <Latencies stripLatency="296" pixelLatency="295" retimePix="4" LatencyRx320L1="6" LatencyRx320Trigger="6" EdgeSelT1Raw="0" EdgeSelTrig="0" />   
	            <Thresholds stripThreshold="60" stripThresholdHigh="120" pixelThreshold="120" />
                <HipLogic stripCut="1" pixelCut="0" /> 
                <SamplingDelay stripCoarse="0" stripFine="0" pixelCoarse="0" pixelFine="0" /> 
                <InjectedCharge stripCharge="70" pixelCharge="70" /> 
                <CIC2 enableBend="1" enableLastLine="1" enableSparsification="1" clockFrequency="320" driveStrength="3" edgeSelect="1" />
            </Global>

            <SSA_Files path="${PH2ACF_BASE_DIR}/settings/SSAFiles/" />
            <SSA2 Id="0" configfile="SSA2.txt" />

            <SSA2 Id="1" configfile="SSA2.txt" />

            <SSA2 Id="2" configfile="SSA2.txt" />

            <SSA2 Id="3" configfile="SSA2.txt" />

            <SSA2 Id="4" configfile="SSA2.txt" />

            <SSA2 Id="5" configfile="SSA2.txt" />

            <SSA2 Id="6" configfile="SSA2.txt" />

            <SSA2 Id="7" configfile="SSA2.txt" />

            <MPA_Files path="${PH2ACF_BASE_DIR}/settings/MPAFiles/" />
            <MPA2 Id="8" configfile="MPA2.txt" />

            <MPA2 Id="9" configfile="MPA2.txt" />

            <MPA2 Id="10" configfile="MPA2.txt" />

            <MPA2 Id="11" configfile="MPA2.txt" />

            <MPA2 Id="12" configfile="MPA2.txt" />

            <MPA2 Id="13" configfile="MPA2.txt" />

            <MPA2 Id="14" configfile="MPA2.txt" />

            <MPA2 Id="15" configfile="MPA2.txt" />

            <CIC_Files path="${PH2ACF_BASE_DIR}/settings/CicFiles/" />
            <CIC2 Id="8" configfile="CIC2_PS.txt" />
        </Hybrid>
    </OpticalGroup>
  <CDCE configure="0" clockRate="320" />

    </BeBoard>

<Settings>
    
    

    
    <Setting name="InjectionType">1</Setting>

    <Setting name="TriggerMultiplicity">0</Setting>

    <Setting name="StartLatency">290</Setting>
    <Setting name="LatencyRange">10</Setting>
    <Setting name="StubAlignmentScanStart">85</Setting>


    <Setting name="PSmoduleSSAthreshold">150</Setting>
    <Setting name="PSmoduleMPAthreshold">150</Setting>
    <Setting name="PSmoduleTriggerLatency">180</Setting>
    <Setting name="PSmoduleStubWindow">32</Setting>

    <Setting name="SaveRawData">1</Setting>

    
    <Setting name="HoleMode">0</Setting>
    <Setting name="VerificationLoop">1</Setting>
    <Setting name="MaskChannelsFromOtherGroups">0</Setting>
    <Setting name="FitSCurves">0</Setting>
    <Setting name="PlotSCurves">1</Setting>
    <Setting name="TriggerRate">10</Setting>

    <Setting name="TargetVcth">0x78</Setting>
    <Setting name="TargetOffset">0x50</Setting>

    
    <Setting name="InitialVcth">0x78</Setting>
    <Setting name="SignalScanStep">2</Setting>
    <Setting name="FitSignal">0</Setting>

    
    <Setting name="AntennaPotentiometer">0</Setting>
    <Setting name="ThresholdForOpens">10</Setting>
    <Setting name="AntennaTriggerRate">50</Setting>

    
    <Setting name="ShortsPulseAmplitude"> 20 </Setting>

    
    
    
    
    <Setting name="PSHybridDebugDuration">1</Setting>

    
    <Setting name="AsyncSweepTh">0</Setting>
    <Setting name="AsyncThreshold">10</Setting>
    <Setting name="AsyncCalDac">30</Setting>
    <Setting name="StartTHDAC">0x40</Setting>
    <Setting name="StopTHDAC">0x90</Setting>
    <Setting name="NMsec">0</Setting>
    <Setting name="NMpulse">3000</Setting>
    <Setting name="Nlvl">50</Setting>
    <Setting name="Vfac">0.9</Setting>
    <Setting name="Mrms">0.6</Setting>
    <Setting name="TestPulsePotentiometer">0x50</Setting>
    <Setting name="SyncDebug">0</Setting>


    <Setting name="FullScan">1</Setting>
    <Setting name="PedestalEqualizationMaskUntrimmed">1</Setting>

    


    
    <Setting name="Nevents">50</Setting>
    <Setting name="PedestalEqualizationFullScanStart">220</Setting>
    <Setting name="PedestalEqualizationOccupancy">0.5</Setting>
    

    <Setting name="PedeNoiseMaskUntrimmed">0</Setting>
    
    <Setting name="PedeNoiseUntrimmedLimit">4.95</Setting>

    
    <Setting name="FullScan">0</Setting>
    <Setting name="PedestalEqualizationPulseAmplitude">70</Setting>
    <Setting name="PedeNoisePulseAmplitude">70</Setting>
    <Setting name="PedestalEqualizationPulseAmplitudePix">70</Setting>
    <Setting name="PedeNoisePulseAmplitudePix">70</Setting>

    <Setting name="StartPhase">0</Setting>
    <Setting name="PhaseRange">7</Setting>
    <Setting name="PhaseStartLatency">290</Setting>
    <Setting name="PhaseLatencyRange">10</Setting>

    
    <Setting name="Attempts">1</Setting>
    
    <Setting name="ActiveMPAs">1</Setting>
    
    <Setting name="FifoDepth">8</Setting>
    
    <Setting name="CheckForStubs">1</Setting>
    <Setting name="ScanL1Latency">0</Setting>
    <Setting name="ScanStubLatency">0</Setting>
    
    <Setting name="DistributeInjections">0</Setting>
    <Setting name="TestMode">0</Setting>
    <Setting name="TriggerSeparation">80</Setting>
    <Setting name="DelayAfterInjection">100</Setting>
    
    <Setting name="Bend">0</Setting>
    
    <Setting name="MinPclusters">1</Setting>
    <Setting name="MaxPclusters">3</Setting>
    <Setting name="MinSclusters">1</Setting>
    <Setting name="MaxSclusters">1</Setting>
    <Setting name="MaxStubs">4</Setting>
    
    <Setting name="SLVSDrive">3</Setting>
    <Setting name="MaxOffset">0</Setting>

    <Setting name="StartTHDAC">0x40</Setting>
    <Setting name="StopTHDAC">0x90</Setting>
    <Setting name="NMsec">0</Setting>
    <Setting name="NMpulse">3000</Setting>
    <Setting name="Nlvl">50</Setting>
    <Setting name="Vfac">0.9</Setting>
    <Setting name="Mrms">0.6</Setting>
    <Setting name="TestPulsePotentiometer">0x50</Setting>
    <Setting name="SyncDebug">0</Setting>

    <Setting name="PSOccupancyPulseAmplitude">200</Setting>

    <Setting name="DoManualVrefTuning">  0</Setting>

</Settings>


<MonitoringSettings>
<Monitoring type="PS" enable="0">
    <MonitoringSleepTime> 1000 </MonitoringSleepTime>
    <MonitoringElement device="MPA2" register="CalDAC6" enable="1" />
    <MonitoringElement device="MPA2" register="VBG" enable="1" />
    <MonitoringElement device="MPA2" register="avdd" enable="1" />
    <MonitoringElement device="MPA2" register="dvdd" enable="1" />
    <MonitoringElement device="SSA2" register="AVDD" enable="1" />
    <MonitoringElement device="SSA2" register="DVDD" enable="1" />
    <MonitoringElement device="SSA2" register="VBG" enable="1" />
    <MonitoringElement device="SSA2" register="ADC_VREF" enable="1" />
    <MonitoringElement device="LpGBT" register="ADC0" enable="1" />
    <MonitoringElement device="LpGBT" register="ADC1" enable="1" />
    <MonitoringElement device="LpGBT" register="ADC3" enable="1" />
    <MonitoringElement device="LpGBT" register="VDD" enable="1" />
    <MonitoringElement device="LpGBT" register="VDDA" enable="1" />
    <MonitoringElement device="LpGBT" register="TEMP" enable="1" />
</Monitoring>
</MonitoringSettings>

<CommunicationSettings>
    <DQM ip="127.0.0.1" port="6003" enableConnection="1" />
    <MonitorDQM ip="127.0.0.1" port="8003" enableConnection="1" />
    <PowerSupplyClient ip="127.0.0.1" port="7003" enableConnection="1" />
</CommunicationSettings>

</HwDescription>